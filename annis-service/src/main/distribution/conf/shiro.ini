[main]

individualReal = org.apache.shiro.realm.text.IniRealm
# change to real configuration location here
individualReal.resourcePath=file:/etc/annis/users.ini

securityManager.realms = $iniRealm, $individualReal
# use native Jiro Session, but make them non-persistant
sessionManager = org.apache.shiro.web.session.mgt.DefaultWebSessionManager
securityManager.sessionManager = $sessionManager

authcBasicAnonymous = annis.security.BasicAuthOrAnonymousFilter
authcBasicAnonymous.anonymousUser=anonymous
authcBasicAnonymous.anonymousPassword=anonymous

[urls]
# this REST based API should not have any sessions and will give non-logged in
# users the anonymous account
/annis-query/**= noSessionCreation, authcBasicAnonymous

# allow anonymous access for on user configuration 
# (make sure the user have the userconfig:read/write permission, e.g. by using the "user" role)
/annis-admin/userconfig= noSessionCreation, authcBasicAnonymous, rest[userconfig]
# in general always login (no anonymous fallback) for administration
/annis-admin/** = noSessionCreation, authcBasic

[roles]
# always give the anonymous user the nobody role
nobody=userconfig:read
# every user should have the default role added
user=userconfig:read,userconfig:write