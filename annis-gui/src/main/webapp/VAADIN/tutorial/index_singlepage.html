<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <title>ANNIS tutorial</title>
  <link href="ANNIS_tutorial.css" rel="stylesheet" type="text/css">
</head>

<body>

<div id="tutorialcontent">

<h2 id="using_interface">Using the ANNIS Interface</h2>
The ANNIS interface is comprised of several areas, the most important of which are the search form and the results tab.
<h3>The Search Form</h3>
<img src="searchform.png" alt="ANNIS search form">
<p>The Search Form can be found on the left of the interface window. It's bottom part shows the list of currently available corpora.
By clicking on the line with the corpus name, it is possible to select which corpora should be searched in (hold down 'ctrl' to select multiple corpora simultaneously).
You may also configure groups of corpora or type in the filter box to view subsets of the corpora (see the ANNIS User Guide for details).
</p>
<p>
The "AQL" field at the top of the form is used for inputting queries manually (see the tutorials on the ANNIS Query Language from the ANNIS website).
As soon as one or several corpora are selected and a query is entered or modified, the query will be validated automatically and possible errors in the query syntax will be commented on in the "Status" box below.
</p>
<p>
Once a valid query has been entered, pressing the "Search" button will retrieve the number of matching positions and documents in the selected corpora in the Status box and open the Result tab to display the first set of matches.</p>
<img src="searchoptions.png" alt="ANNIS search options">
<p>
In order to get more control over the search you can click on "Search
Options" to unfold more detailed search options.  The context
surrounding the matching expressions in the result list ist determined
by the "Left Context" and "Right Context" options and can be changed on each side (by default up to 20 tokens). Some corpora allow longer spans, depending on their configuration.
Entire texts can also be viewed using special document visualizations or by clicking on the document icon next to each corpus name.</p>
<h3>The Result Window</h3>
<img src="search_bar.png" alt="ANNIS result window toolbar" >
<p>The result window shows search results in pages of 10 hits each by
default (this can be changed in the Search Form). The toolbar at the
top of the window allows you to navigate between these pages.  The
"Token Annotations" button on the toolbar allows you to toggle the
token based annotations, such as lemmas and parts-of-speech, on or off
for you convenience.  You can use hyperlinks to your queries by copying
the current browser URL for e-mail or citation purposes, allowing others to reproduce your
query.</p>
<p>If your corpus contains multiple alternative text layers or segmentations (e.g. normalized and un-normalized text),
you may switch between these on the fly by using the "base text" menu.</p>
<img src="KWIC_narrow.png" alt="KWIC concordance in ANNIS">
<p>
The result list itself initially shows a KWIC (key word in context)
concordance of matching positions in the selected corpora, with the
matching region marked red and the context in black on either side. Context can be adjusted for
individual search results up to the maximum allowed for the current corpus.
Token annotations are displayed in gray under each token, and hovering
over them with the mouse will show the annotation name and
namespace. More complex annotation levels can be expanded, if
available, by clicking on the plus icon next to the level's name,
e.g. dependencies and information structure for the annotations in the dependency tree and grid
views in the picture below. </p>
<img src="annotation_levels.png" alt="visualization of different annotation levels">
</div>

<h2 id="query_builder">Using the ANNIS Query Builder</h2>
<p>To open the graphical query builder, click on the <strong>Query Builder</strong> button. On the left-hand side of the toolbar at the top of the query builder canvans, you will see the <strong>Add Node</strong> button.
Use this button to define nodes to be searched for (tokens, non-terminal nodes or annotations). Creating nodes and modifying them on the canvas will immediately update the AQL field in the Search Form with your query, though updating the query on the Search Form will not create a new graph in the Query Builder. </p>
<img src="query_builder_empty.png" alt="The Query Builder tab and the Create Node button">
<p>In each node you create you may click on  <img src="list-add.png" alt="The Add Node button"> to specify an annotation value. The annotation name can be typed in or selected from a drop down list. The operator field in the middle allows you to choose between an exact match
(the '=' symbol) or wildcard search using Regular Expressions (the '~' symbol). The annotation value is given on the right, and should <strong>NOT</strong> be surrounded by quotations (see the example below).
It is also possible to specify multiple annotations applying to the same position by clicking on <img src="list-add.png" alt="The Add Node button"> multiple times. Clicking on <img src="edit-clear.png" alt="The Clear all nodes button"> will delete the values in the node.
To search for word forms, simply choose "tok" as the field name on the left. A node with no data entered will match any node, that is an underspecified token or non-terminal node or annotation.</p>
<img src="node.png" alt="Query Builder node">
<p>
To specify the relationship between nodes, first click on the "Add Edge" link at the top left of one node, and then click the "Dock" link which becomes available on the other nodes.
An edge will connect the nodes with an extra box from which operators may be selected (see below). For operators allowing additional labels (e.g. the dominance operator <tt>&gt;</tt> allows edge labels to be specified),
you may type directly into the edge's operator box, as in the example with a "func" label in the image below. Note that the node clicked on first (where the "Edge" button was clicked) will be the first node in the resulting
quey, i.e. if this is the first node it will dominate the second node (<tt>#1 &gt; #2</tt>) and not the other way around, as also represented by the arrows along the edge.</p>
<img src="edge.png" alt="Connecting nodes with an edge">
</div>

</body>
</html>
